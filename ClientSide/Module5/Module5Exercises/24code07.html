<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Timeout Example</title>
    <meta name="viewport" 
          content="width=device-width, initial-scale=1">
          <link rel="stylesheet" href="style.css">
  </head>
  <script type="text/javascript">
    //Modified part for the exercise
    function CurDate()
      {
        var refresh=1000;  //Refresh rate in milli seconds
        mytime=setTimeout('gCurDate()',refresh)
      }

      function gCurDate() 
      {
        var curr = new Date()
        var x1 = curr.toDateString();
        var x2 = curr.toLocaleTimeString();
        document.getElementById('dte').innerHTML = x1;
        document.getElementById('dtee').innerHTML = x2;
        CurDate();
      }
  </script>
  <body onload=gCurDate();>
    <header>
      <h1 class="sitetitle">Niza Valenzuela's Web Development Class</h1>
   </header>

    <nav class="navbar">
      <a href="index.html">Home</a> 
      <a href="24code03.html">Keys</a>
      <a href="24code04.html">Hide Show</a>
      <a href="24code07.html">Time</a>
      <a href="24code08.html">Window</a>
    </nav

    <h1>Timeout Example</h1>
    <p>The counter will update every two seconds.</p>
    <p>Press RESTART or STOP to restart or stop the count.</p>
    <p id="showText"></p>
    <section>
      <button type="button" id="restart">RESTART</button>
      <button type="button" id="stop">STOP</button>
    </section>
    <br>
    <span id="dte"></span>
    <span id="dtee"></span>
    
    <script>
       var counter = 0;
      
      // // call Update function 2 seconds after first load
       timeoutID=window.setTimeout("Update();",2000); 
      
       function Update() {
         counter++;
         var textField = document.getElementById("showText");
         textField.innerHTML = "The counter is now at " + counter;
        
         // set another timeout for the next count
         timeoutID=window.setTimeout("Update();",2000);
       }
      
       // set event listeners for the buttons
       document.getElementById("restart").addEventListener("click", 
                                          function() {
         counter = 0; 
         Update();
       });
       document.getElementById("stop").addEventListener("click", 
                                       function() {
         window.clearTimeout(timeoutID);
       });
    </script>
  </body>
</html>
